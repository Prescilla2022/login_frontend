{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Allen/KodeHode/React/LoginSystem_Mern/frontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Allen/KodeHode/React/LoginSystem_Mern/frontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Allen/KodeHode/React/LoginSystem_Mern/frontEnd/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Allen/KodeHode/React/LoginSystem_Mern/frontEnd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Allen/KodeHode/React/LoginSystem_Mern/frontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useNavigate}from\"react-router-dom\";import swal from\"sweetalert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _React$useState=React.useState({username:\"\",password:\"\",confirmPassword:\"\",emailId:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),formData=_React$useState2[0],setformData=_React$useState2[1];var navigate=useNavigate();//const [email,setEmail]=React.useState(\"\");\nconsole.log(formData);function handleChange(event){setformData(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},event.target.name,event.target.value));});}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var passwordMatch,url,requestOptions;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();passwordMatch=formData.password===formData.confirmPassword;console.log(passwordMatch);url=\"http://localhost:3500/register\";requestOptions={method:\"POST\",headers:{\"Access-Control-Allow-Origin\":\"*\",\"content-type\":\"application/json\"},body:JSON.stringify(formData)};if(!passwordMatch){_context.next=10;break;}_context.next=8;return fetch(url,requestOptions).then(function(response){console.log(response.status);if(response.status===201){navigate(\"/LoginSystem_Mern/Success\");}else if(response.status===409){swal(\"Username or EmailId already exists! Try entering another username\");}}).catch(function(error){return console.log(\"Form submit error\",error);});case 8:_context.next=11;break;case 10:swal(\"Password doesnot match\");case 11:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",placeholder:\"Enter Username\",name:\"username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"email\",placeholder:\"Enter EmailId\",name:\"emailId\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"password\",placeholder:\"Enter Password\",name:\"password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"password\",placeholder:\"Confirm Password\",name:\"confirmPassword\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(\"a\",{className:\"user\",href:\"/\",children:\"Already a user?\"})]})]});}","map":{"version":3,"names":["React","useNavigate","swal","Register","useState","username","password","confirmPassword","emailId","formData","setformData","navigate","console","log","handleChange","event","prev","target","name","value","handleSubmit","preventDefault","passwordMatch","url","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","status","catch","error"],"sources":["C:/Users/Allen/KodeHode/React/LoginSystem_Mern/frontEnd/src/components/Register.js"],"sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\n\r\nexport default function Register() {\r\n  const [formData, setformData] = React.useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    emailId: \"\",\r\n  });\r\n  const navigate = useNavigate();\r\n  //const [email,setEmail]=React.useState(\"\");\r\n  console.log(formData);\r\n\r\n  function handleChange(event) {\r\n    setformData((prev) => {\r\n      return {\r\n        ...prev,\r\n        [event.target.name]: event.target.value,\r\n      };\r\n    });\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const passwordMatch = formData.password === formData.confirmPassword;\r\n    console.log(passwordMatch);\r\n    const url = \"http://localhost:3500/register\";\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(formData),\r\n    };\r\n    if (passwordMatch) {\r\n      await fetch(url, requestOptions)\r\n        .then((response) => {\r\n          console.log(response.status);\r\n          if (response.status === 201) {\r\n            navigate(\"/LoginSystem_Mern/Success\");\r\n          } else if (response.status === 409) {\r\n            swal(\r\n              \"Username or EmailId already exists! Try entering another username\"\r\n            );\r\n          }\r\n        })\r\n\r\n        .catch((error) => console.log(\"Form submit error\", error));\r\n    } else {\r\n      swal(\"Password doesnot match\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <h3>Register</h3>\r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n        <input\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          placeholder=\"Enter Username\"\r\n          name=\"username\"\r\n        ></input>\r\n        <input\r\n          onChange={handleChange}\r\n          type=\"email\"\r\n          placeholder=\"Enter EmailId\"\r\n          name=\"emailId\"\r\n        ></input>\r\n        <input\r\n          onChange={handleChange}\r\n          type=\"password\"\r\n          placeholder=\"Enter Password\"\r\n          name=\"password\"\r\n        ></input>\r\n        <input\r\n          onChange={handleChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password\"\r\n          name=\"confirmPassword\"\r\n        ></input>\r\n        <button type=\"submit\">Register</button>\r\n        <a className=\"user\" href=\"/\">\r\n          Already a user?\r\n        </a>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"ktBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,KAAI,KAAM,YAAY,CAAC,wFAE9B,cAAe,SAASC,SAAQ,EAAG,CACjC,oBAAgCH,KAAK,CAACI,QAAQ,CAAC,CAC7CC,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EAAE,CACZC,eAAe,CAAE,EAAE,CACnBC,OAAO,CAAE,EACX,CAAC,CAAC,oDALKC,QAAQ,qBAAEC,WAAW,qBAM5B,GAAMC,SAAQ,CAAGV,WAAW,EAAE,CAC9B;AACAW,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC,CAErB,QAASK,aAAY,CAACC,KAAK,CAAE,CAC3BL,WAAW,CAAC,SAACM,IAAI,CAAK,CACpB,sCACKA,IAAI,wBACND,KAAK,CAACE,MAAM,CAACC,IAAI,CAAGH,KAAK,CAACE,MAAM,CAACE,KAAK,GAE3C,CAAC,CAAC,CACJ,CAAC,QAEcC,aAAY,kJAA3B,iBAA4BL,KAAK,wJAC/BA,KAAK,CAACM,cAAc,EAAE,CAChBC,aAAa,CAAGb,QAAQ,CAACH,QAAQ,GAAKG,QAAQ,CAACF,eAAe,CACpEK,OAAO,CAACC,GAAG,CAACS,aAAa,CAAC,CACpBC,GAAG,CAAG,gCAAgC,CACtCC,cAAc,CAAG,CACrBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,6BAA6B,CAAE,GAAG,CAClC,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACpB,QAAQ,CAC/B,CAAC,KACGa,aAAa,gDACTQ,MAAK,CAACP,GAAG,CAAEC,cAAc,CAAC,CAC7BO,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBpB,OAAO,CAACC,GAAG,CAACmB,QAAQ,CAACC,MAAM,CAAC,CAC5B,GAAID,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC3BtB,QAAQ,CAAC,2BAA2B,CAAC,CACvC,CAAC,IAAM,IAAIqB,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAClC/B,IAAI,CACF,mEAAmE,CACpE,CACH,CACF,CAAC,CAAC,CAEDgC,KAAK,CAAC,SAACC,KAAK,QAAKvB,QAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEsB,KAAK,CAAC,GAAC,uCAE5DjC,IAAI,CAAC,wBAAwB,CAAC,CAAC,sDAElC,+CAED,mBACE,aAAK,SAAS,CAAC,UAAU,wBACvB,oBAAI,UAAQ,EAAK,cACjB,cAAM,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAEkB,YAAa,wBAC5C,cACE,QAAQ,CAAEN,YAAa,CACvB,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,gBAAgB,CAC5B,IAAI,CAAC,UAAU,EACR,cACT,cACE,QAAQ,CAAEA,YAAa,CACvB,IAAI,CAAC,OAAO,CACZ,WAAW,CAAC,eAAe,CAC3B,IAAI,CAAC,SAAS,EACP,cACT,cACE,QAAQ,CAAEA,YAAa,CACvB,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,gBAAgB,CAC5B,IAAI,CAAC,UAAU,EACR,cACT,cACE,QAAQ,CAAEA,YAAa,CACvB,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,kBAAkB,CAC9B,IAAI,CAAC,iBAAiB,EACf,cACT,eAAQ,IAAI,CAAC,QAAQ,UAAC,UAAQ,EAAS,cACvC,UAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,UAAC,iBAE7B,EAAI,GACC,GACH,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}